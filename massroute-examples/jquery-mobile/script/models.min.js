(function(b){function d(){this.tag=undefined;this.title=undefined;this.inflate=function(h){this.tag=$(h).attr("tag");this.title=$(h).attr("title");return this}}function a(){this.tag=undefined;this.title=undefined;this.dirTag=undefined;this.stopId=undefined;this.inflate=function(h){this.tag=$(h).attr("tag");this.title=$(h).attr("title");this.dirTag=$(h).attr("dirTag");this.stopId=$(h).attr("stopId");return this}}function g(){this.seconds=undefined;this.minutes=undefined;this.epochTime=undefined;this.isDeparture=undefined;this.dirTag=undefined;this.vehicle=undefined;this.block=undefined;this.inflate=function(h){this.seconds=Number($(h).attr("seconds"));this.minutes=Number($(h).attr("minutes"));this.epochTime=$(h).attr("epochTime");this.isDeparture=($(h).attr("isDeparture")==="true")?true:false;this.dirTag=$(h).attr("dirTag");this.vehicle=$(h).attr("vehicle");this.block=$(h).attr("block");return this}}function f(){this.tag=undefined;this.name=undefined;this.title=undefined;this.stops=undefined;this.inflate=function(i){this.tag=$(i).attr("tag");this.name=$(i).attr("name");this.title=$(i).attr("title");this.stops=[];var h=this.stops;$(i).find("stop").each(function(){var j=new a();j.inflate(this);h[h.length]=j});return this}}function e(){var h={};var m={};var i=[];this.route=undefined;function j(){h={};m={};i=[];this.route=undefined}function k(n){var o=new a();o.inflate(n);h[o.tag]=o}function l(o){var n=new f();n.inflate(o);i.push(n)}this.inflate=function(p){j();var o,q,n;o=$(p).find("route");q=$(o).children("stop");n=$(o).children("direction ");this.route=new d();this.route.inflate(o);$.each(q,function(r,s){k(s)});$.each(n,function(r,s){l(s)});return this};this.findDestinationByTag=function(p){var o,n;o=this.destinations.length;while(--o>-1){n=this.destinations[o];if((n!==undefined)&&(n.tag===p)){break}else{n=undefined}}return n};this.findStopByTag=function(n){return h[n]};this.stopsForDestination=function(n){var r,q;r=n.tag;q=(m[r]!==undefined)?m[r]:null;if(q===null){q=[];var p=n.stops;var o=h;$.each(p,function(){q[q.length]=o[this.tag]});m[r]=q}return q};this.__defineGetter__("destinations",function(){return i});this.__defineSetter__("destinations",function(n){i=n})}var c=e.prototype;c.getDestinationsByType=function(h){var j,i;j=[];i=this.destinations;$.each(i,function(k,l){if(l.name.toLowerCase()===h.toLowerCase()){j.push(l)}});return j};b.Route=d;b.RouteStop=a;b.StopPrediction=g;b.RouteDestination=f;b.RouteConfiguration=e})(window);